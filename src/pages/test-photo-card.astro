---
import BaseLayout from '@/components/layouts/BaseLayout.astro';
import PhotoCard from '@/components/features/photos/PhotoCard.astro';
import type { PhotoData } from '@/types/photos';

// åˆ›å»ºæµ‹è¯•ç…§ç‰‡æ•°æ®
const testPhotos: PhotoData[] = [
  {
    id: 'test-sunset',
    title: 'æ—¥è½æ—¶åˆ†',
    description: 'åœ¨æµ·è¾¹æ‹æ‘„çš„ç¾ä¸½æ—¥è½ï¼Œå¤©ç©ºå‘ˆç°å‡ºç»šçƒ‚çš„æ©™çº¢è‰²æ¸å˜',
    image: '/src/assets/photos/sunset-001.jpg',
    category: 'é£æ™¯',
    tags: ['æ—¥è½', 'æµ·è¾¹', 'è‡ªç„¶', 'é£æ™¯'],
    date: new Date('2024-06-15'),
    alt: 'æµ·è¾¹æ—¥è½æ™¯è‰²ï¼Œå¤©ç©ºå‘ˆç°æ©™çº¢è‰²æ¸å˜ï¼Œæµ·é¢æ³¢å…‰ç²¼ç²¼'
  },
  {
    id: 'test-cityscape',
    title: 'åŸå¸‚å¤œæ™¯',
    description: 'ç°ä»£éƒ½å¸‚çš„ç’€ç’¨å¤œæ™¯ï¼Œé«˜æ¥¼å¤§å¦ç¯ç«é€šæ˜',
    image: '/src/assets/photos/cityscape-001.jpg',
    category: 'åŸå¸‚',
    tags: ['å¤œæ™¯', 'åŸå¸‚', 'å»ºç­‘'],
    date: new Date('2024-05-20'),
    alt: 'åŸå¸‚å¤œæ™¯ï¼Œé«˜æ¥¼å¤§å¦ç¯ç«è¾‰ç…Œ'
  },
  {
    id: 'test-coffee',
    title: 'å’–å•¡æ—¶å…‰',
    description: 'æ‚ é—²çš„åˆåï¼Œä¸€æ¯é¦™æµ“çš„å’–å•¡',
    image: '/src/assets/photos/coffee-001.jpg',
    category: 'ç”Ÿæ´»',
    tags: ['å’–å•¡', 'ç”Ÿæ´»', 'é™ç‰©'],
    date: new Date('2024-04-10'),
    alt: 'ä¸€æ¯å’–å•¡æ”¾åœ¨æœ¨æ¡Œä¸Šï¼Œæ—è¾¹æœ‰å’–å•¡è±†'
  },
  {
    id: 'test-mountain',
    title: 'å±±é—´å°å¾„',
    description: 'èœ¿èœ’çš„å±±è·¯é€šå‘è¿œæ–¹ï¼Œä¸¤æ—ç»¿æ ‘æˆè«',
    image: '/src/assets/photos/mountain-path-001.jpg',
    category: 'é£æ™¯',
    tags: ['å±±è·¯', 'è‡ªç„¶', 'å¾’æ­¥'],
    date: new Date('2024-03-25'),
    alt: 'å±±é—´èœ¿èœ’çš„å°å¾„ï¼Œä¸¤æ—ç»¿æ ‘ç¯ç»•'
  }
];
---

<BaseLayout title="PhotoCard ç»„ä»¶æµ‹è¯•" description="æµ‹è¯• PhotoCard.astro ç»„ä»¶çš„åŠŸèƒ½">
  <div class="min-h-screen bg-gradient-to-br from-violet-50 via-purple-50 to-blue-50 dark:from-zinc-900 dark:via-purple-900/20 dark:to-blue-900/20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 py-16">
      <!-- é¡µé¢æ ‡é¢˜ -->
      <header class="text-center mb-12">
        <h1 class="text-4xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-blue-600 bg-clip-text text-transparent mb-4">
          PhotoCard ç»„ä»¶æµ‹è¯•
        </h1>
        <p class="text-lg text-zinc-600 dark:text-zinc-300 max-w-2xl mx-auto">
          æµ‹è¯• PhotoCard.astro ç»„ä»¶çš„æ‚¬åœæ•ˆæœã€ç‚¹å‡»äº‹ä»¶å’Œå“åº”å¼å¸ƒå±€
        </p>
      </header>

      <!-- ç…§ç‰‡ç½‘æ ¼ -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
        {testPhotos.map((photo, index) => (
          <PhotoCard photo={photo} index={index} />
        ))}
      </div>

      <!-- è¯´æ˜æ–‡å­— -->
      <div class="mt-12 text-center">
        <div class="bg-white/50 dark:bg-zinc-800/50 backdrop-blur-sm rounded-lg p-6 max-w-2xl mx-auto">
          <h2 class="text-xl font-semibold text-zinc-900 dark:text-zinc-100 mb-3">
            æµ‹è¯•è¯´æ˜
          </h2>
          <ul class="text-sm text-zinc-600 dark:text-zinc-400 space-y-2 text-left">
            <li>â€¢ <strong>æ‚¬åœæ•ˆæœ</strong>: é¼ æ ‡æ‚¬åœæ—¶å¡ç‰‡ä¼šè½»å¾®ä¸Šç§»ï¼Œå›¾ç‰‡ä¼šæ”¾å¤§ï¼Œæ˜¾ç¤ºæ”¾å¤§é•œå›¾æ ‡</li>
            <li>â€¢ <strong>ç‚¹å‡»äº‹ä»¶</strong>: ç‚¹å‡»å¡ç‰‡ä¼šåœ¨æ§åˆ¶å°è¾“å‡ºäº‹ä»¶ä¿¡æ¯ï¼ˆæ‰“å¼€å¼€å‘è€…å·¥å…·æŸ¥çœ‹ï¼‰</li>
            <li>â€¢ <strong>å“åº”å¼å¸ƒå±€</strong>: åœ¨ä¸åŒå±å¹•å°ºå¯¸ä¸‹è‡ªåŠ¨è°ƒæ•´ç½‘æ ¼åˆ—æ•°</li>
            <li>â€¢ <strong>æ— éšœç¢æ”¯æŒ</strong>: æ”¯æŒé”®ç›˜å¯¼èˆªï¼ˆTab é”®èšç„¦ï¼ŒEnter æˆ–ç©ºæ ¼é”®æ¿€æ´»ï¼‰</li>
            <li>â€¢ <strong>é”™è¯¯å¤„ç†</strong>: å›¾ç‰‡åŠ è½½å¤±è´¥æ—¶æ˜¾ç¤ºå ä½ç¬¦</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</BaseLayout>

<script>
  // ç›‘å¬ç¯ç®±æ‰“å¼€äº‹ä»¶
  document.addEventListener('openLightbox', (event) => {
    const detail = (event as CustomEvent).detail;
    console.log('ğŸ–¼ï¸ ç¯ç®±äº‹ä»¶è§¦å‘:', {
      index: detail.index,
      photoId: detail.photoId,
      timestamp: new Date().toISOString()
    });
    
    // æ˜¾ç¤ºä¸€ä¸ªç®€å•çš„æç¤ºï¼Œå› ä¸ºç¯ç®±ç»„ä»¶è¿˜æœªå®ç°
    alert(`ç…§ç‰‡å¡ç‰‡ç‚¹å‡»æˆåŠŸï¼\n\nç…§ç‰‡ç´¢å¼•: ${detail.index}\nç…§ç‰‡ID: ${detail.photoId}\n\næ³¨æ„ï¼šç¯ç®±ç»„ä»¶å°†åœ¨åç»­ä»»åŠ¡ä¸­å®ç°ã€‚`);
  });
</script>
</BaseLayout>